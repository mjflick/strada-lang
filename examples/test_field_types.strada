/*
 * This file is part of the Strada Language (https://github.com/mjflick/strada-lang).
 * Copyright (c) 2026 Michael J. Flickinger
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, version 2.
 *
 * This program is distributed in the hope that it will be useful, but
 * WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU
 * General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this program. If not, see <http://www.gnu.org/licenses/>.
 */

# test_field_types.strada - Test all field types (int, num, str)

struct Data {
    int count;
    num value;
    str name;
}

func new_data(int $c, num $v, str $n) Data {
    my Data $d;
    $d->count = $c;
    $d->value = $v;
    $d->name = $n;
    return $d;
}

func print_data(Data $d) void {
    say("Data:");
    say("  count = " . $d->count);
    say("  value = " . $d->value);
    say("  name  = " . $d->name);
}

func main() int {
    say("=== Field Type Test ===");
    say("");
    
    # Create with all field types
    my Data $d = new_data(42, 3.14159, "Hello World");
    
    say("Initial values:");
    print_data($d);
    
    say("");
    say("Modifying fields...");
    $d->count = 100;
    $d->value = 2.71828;
    $d->name = "Updated Name";
    
    say("");
    say("Modified values:");
    print_data($d);
    
    say("");
    say("Direct field access:");
    say("  count: " . $d->count);
    say("  value: " . $d->value);
    say("  name:  " . $d->name);
    
    say("");
    say("=== All field types working! ===");
    
    return 0;
}
