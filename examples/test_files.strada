# test_files.strada - Test file I/O capabilities

func write_test() void {
    my str $content = "Hello from Strada!\nThis is line 2.\nThis is line 3.\n";
    sys::spew("test_output.txt", $content);
    say("Wrote to test_output.txt");
}

func read_test() void {
    my str $content = slurp("test_output.txt");
    say("Read from file:");
    say($content);
}

func read_line_test() void {
    my scalar $fh = sys::open("test_output.txt", "r");
    
    say("Reading line by line:");
    my str $line1 = readline($fh);
    say($line1);
    
    my str $line2 = readline($fh);
    say($line2);
    
    my str $line3 = readline($fh);
    say($line3);
    
    sys::close($fh);
}

func main() int {
    say("=== File I/O Test ===");
    say("");
    
    write_test();
    say("");
    
    read_test();
    say("");
    
    read_line_test();
    
    return 0;
}
